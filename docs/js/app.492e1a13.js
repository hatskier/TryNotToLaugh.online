(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03a6":function(t,e,n){"use strict";var a=n("3415"),i=n.n(a);i.a},"09d1":function(t,e,n){t.exports=n.p+"img/github-icon.ab420948.svg"},1:function(t,e){},"139d":function(t,e,n){},1564:function(t,e,n){"use strict";var a=n("ba47"),i=n.n(a);i.a},1654:function(t,e,n){},"1fdc":function(t,e,n){"use strict";var a=n("427d"),i=n.n(a);i.a},2:function(t,e){},2834:function(t,e,n){t.exports=n.p+"img/TryNotToLaugh-Logo.f5e6aa0c.svg"},3:function(t,e){},"321d":function(t,e,n){},3415:function(t,e,n){},3492:function(t,e,n){"use strict";var a=n("cc09"),i=n.n(a);i.a},3785:function(t,e,n){},"37e7":function(t,e,n){"use strict";var a=n("321d"),i=n.n(a);i.a},"380c":function(t,e,n){"use strict";var a=n("437c"),i=n.n(a);i.a},3847:function(t,e,n){"use strict";var a=n("8c46"),i=n.n(a);i.a},"3d50":function(t,e,n){"use strict";var a=n("5b27"),i=n.n(a);i.a},4:function(t,e){},4227:function(t,e,n){"use strict";var a=n("c4b4"),i=n.n(a);i.a},"427d":function(t,e,n){},"437c":function(t,e,n){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("8c4f"),s=n("caf9"),r=n("85fe"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",[n("NavBar"),t.BlockstackUtils.pendingAuth?t._e():n("router-view",{staticClass:"view"}),t.BlockstackUtils.pendingAuth?n("div",{staticClass:"centered authentication-in-progress-title"},[n("svg",{attrs:{version:"1.1",id:"svg-loader",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[n("circle",{staticStyle:{opacity:"0.5"},attrs:{fill:"none",stroke:"#000","stroke-width":"4",cx:"50",cy:"50",r:"44"}}),n("circle",{attrs:{fill:"#fff",stroke:"lightgray","stroke-width":"3",cx:"8",cy:"54",r:"6"}},[n("animateTransform",{attrs:{attributeName:"transform",dur:"2s",type:"rotate",from:"0 50 48",to:"360 50 52",repeatCount:"indefinite"}})],1)]),n("h2",[t._v("\n        Authentication in progress...\n      ")])]):t._e()],1)])},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navbar"}},[n("header",{staticClass:"mdc-top-app-bar mdc-top-app-bar--dense"},[n("div",{staticClass:"mdc-top-app-bar__row"},[t._m(0),n("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end",attrs:{role:"toolbar"}},[t.State.path.includes("posts")?n("div",{staticClass:"navbar-el"},[n("button",{staticClass:"mdc-button mdc-button--outlined",on:{click:function(e){return t.toggleLiveEmotions()}}},[n("div",{staticClass:"mdc-button__ripple"}),t.State.liveEmotionsEnabled?t._e():n("span",[t._v("\n                TRY LIVE EMOTIONS\n              ")]),t.State.liveEmotionsEnabled?n("span",[t._v("\n                STOP LIVE EMOTIONS\n              ")]):t._e()])]):t._e(),n("div",{staticClass:"navbar-el"},[t.signedIn?n("a",{staticClass:"mdc-icon-button material-icons white add-photo-icon",attrs:{href:"#/add"}},[t._v("\n            add_photo_alternate\n          ")]):t._e()]),n("div",{staticClass:"navbar-el"},[n("a",{staticClass:"mdc-icon-button material-icons white add-photo-icon",attrs:{id:"night-mode-icon"},on:{click:function(e){return t.toggleDarkMode()}}},[t._v("\n            brightness_4\n          ")])]),n("div",{staticClass:"navbar-el"},[n("div",{staticClass:"account-circle mdc-menu-surface--anchor",on:{click:function(e){return t.openMenu()}}},[t.signedIn&&t.userAvatar?n("img",{attrs:{id:"avatar-image",src:t.userAvatar}}):t._e(),t.signedIn&&!t.userAvatar?n("div",{staticClass:"username-letter"},[t._v("\n              "+t._s(t.usernameFirstLetter)+"\n            ")]):t._e(),n("Menu",{attrs:{onSettingsClicked:t.openSettings,onLogOutClicked:t.logOut}})],1),t.signedIn?t._e():n("button",{staticClass:"mdc-button mdc-button--raised sign-in-button",on:{click:function(e){return t.openSignInModal()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n              SIGN IN\n          ")])])])])]),n("SignInModal",{attrs:{onLogInButtonClicked:t.logIn}})],1)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},[a("a",{attrs:{href:"#/"}},[a("img",{attrs:{id:"navbar-logo",src:n("2834")}})]),a("a",{staticClass:"normal-text",attrs:{href:"#/"}},[a("span",{staticClass:"mdc-top-app-bar__title white"},[t._v("GAG")])])])}],d=(n("96cf"),n("3b8d")),p=n("e4d3"),g=n.n(p),f=n("f9d6"),m=n("bc3a"),v=n.n(m),h=n("d225"),b=n("308d"),_=n("6bb5"),y=n("4e2b7"),k=n("bd86"),w=function(t){function e(){return Object(h["a"])(this,e),Object(b["a"])(this,Object(_["a"])(e).apply(this,arguments))}return Object(y["a"])(e,t),e}(f["Model"]);Object(k["a"])(w,"className","BlockgagPost"),Object(k["a"])(w,"schema",{originalUrl:{type:Boolean,decrypted:!0},description:{type:String,decrypted:!0},type:{type:String,decrypted:!0},imgGaiaPublicUrl:{type:String,decrypted:!0},tags:{type:Array,decrypted:!0}}),Object(k["a"])(w,"defaults",{type:"img"});var C=w,x="https://radiks.dece.app",S=new g.a.AppConfig(["store_write","publish_data","email"]),T=new g.a.UserSession({appConfig:S});Object(f["configure"])({userSession:T,apiServer:x});var O={pendingAuth:!1,isUserSignedIn:function(){return T.isUserSignedIn()},getUserSession:function(){return T},getUserName:function(){return T.loadUserData().username},getUserAvatar:function(){if(T.isUserSignedIn()){var t=T.loadUserData();if(t.profile&&t.profile.image&&t.profile.image[0])return t.profile.image[0].contentUrl}return null},checkAuth:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(T=Object(f["getConfig"])().userSession,!T.isSignInPending()){t.next=14;break}return t.prev=2,a["default"].set(this,"pendingAuth",!0),t.next=6,T.handlePendingSignIn();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.prev=11,localStorage.locationBeforeRedirection?(e=localStorage.locationBeforeRedirection,localStorage.removeItem("locationBeforeRedirection"),location.href=e):a["default"].set(this,"pendingAuth",!1),t.finish(11);case 14:if(!T.isUserSignedIn()){t.next=17;break}return t.next=17,f["User"].createWithCurrentUser();case 17:case"end":return t.stop()}}),t,this,[[2,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}(),signIn:function(){T.redirectToSignIn()},signOut:function(){T.signUserOut(),location.reload()},getAllPosts:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=x+"/radiks/models/find?radiksType=BlockgagPost",t.next=3,v.a.get(e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a.results||[]);case 6:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),savePostToGaia:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.putFile(e,n,{encrypt:!1});case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),addNewPost:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,s,r,o,c,l,u,d,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.type,i=e.originalUrl,s=e.data,r=e.description,o=e.tags,c=n.onSavedToGaia,l=n.onPostCreated,u=new C({type:a,originalUrl:i,description:r,tags:o}),c(),d=u._id,t.next=7,this.savePostToGaia(d,s);case 7:return t.next=9,T.getFileUrl(d);case 9:return p=t.sent,console.log(p),u.update({imgGaiaPublicUrl:p}),console.log(u),t.next=15,u.save();case 15:return l(),g="https://blockgag.co#/post/".concat(u._id),t.abrupt("return",g);case 18:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-menu mdc-menu-surface"},[n("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"}},[n("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem"},on:{click:function(e){return t.onLogOutClicked()}}},[t._m(0)])])])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdc-list-item__text black-in-dark-mode"},[n("i",{staticClass:"material-icons black-in-dark-mode"},[t._v("\n          directions_walk\n        ")]),t._v("\n        Log out\n      ")])}],j={props:{onSettingsClicked:Function,onLogOutClicked:Function}},U=j,L=n("2877"),B=Object(L["a"])(U,I,E,!1,null,null,null),P=B.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"Log in to add posts"}},[n("p",{staticClass:"blockstack-description"},[t._v("\n    BlockGAG is built using\n      "),n("a",{attrs:{target:"_blank",href:"https://blockstack.org/try-blockstack"}},[t._v("Blockstack")]),t._v("\n    infrastructure,\n    allowing us to provide decentralized encrypted storage.\n  ")]),n("p",{staticClass:"blockstack-description"},[t._v("\n    Blockstack ID provides user-controlled login and storage\n    that enable you to take back control of your identity and data.\n  ")]),n("button",{staticClass:"mdc-button mdc-button--raised continue-with-blockstack-button",attrs:{id:"log-in-to-blockstack-button"},on:{click:function(e){return t.onLogInButtonClicked()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n      LOG IN TO BLOCKSTACK\n  ")])])},R=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-dialog",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"}},[n("div",{staticClass:"mdc-dialog__container"},[n("div",{staticClass:"mdc-dialog__surface"},[n("h2",{staticClass:"mdc-dialog__title",attrs:{id:"my-dialog-title"}},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("div",{staticClass:"mdc-dialog__content",attrs:{id:"my-dialog-content"}},[t._t("default")],2)])]),n("div",{staticClass:"mdc-dialog__scrim"})])},F=[],N={name:"Dialog",data:function(){return{}},props:{title:String},computed:{}},G=N,$=(n("1fdc"),Object(L["a"])(G,M,F,!1,null,"6dab4c7c",null)),D=$.exports,z={props:{onLogInButtonClicked:Function},components:{Dialog:D}},V=z,J=(n("3847"),Object(L["a"])(V,A,R,!1,null,"a1577be4",null)),H=J.exports,q=(n("c5f6"),n("2ef0")),Y=n.n(q),K=(n("6b54"),{generateId:function(){return Date.now().toString()},capitalizeFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},dictToListWithIds:function(t){var e=[];for(var n in t)e.push(Object.assign({id:n},t[n]));return e}}),W={path:"",contacts:{},debts:{},syncStatus:"Synced",liveEmotionsEnabled:!1,selectedTag:"",loadStateFromBlockchain:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading state from blockchain"),t.next=3,O.getContacts();case 3:return e=t.sent,t.next=6,O.getDebts();case 6:n=t.sent,e&&a["default"].set(this,"contacts",e),n&&a["default"].set(this,"debts",n);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateStateToBlockchain:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.updateContacts,a=void 0!==n&&n,i=e.updateDebts,s=void 0!==i&&i,console.log("Updating blockchain state with contacts: ".concat(a,", with debts: ").concat(s)),t.prev=2,!a){t.next=8;break}return this.syncStatus="Syncing contacts",this.updatingStateInBlockchain=!0,t.next=8,O.saveContacts(this.contacts);case 8:if(!s){t.next=13;break}return this.syncStatus="Syncing debts",this.updatingStateInBlockchain=!0,t.next=13,O.saveDebts(this.debts);case 13:this.syncStatus="Synced",t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](2),console.error(t.t0),this.syncStatus="Syncing failed";case 20:case"end":return t.stop()}}),t,this,[[2,16]])})));function e(e){return t.apply(this,arguments)}return e}(),upsertContact:function(t){var e=this.defaultUpsert(t,"contacts","Contact");return this.updateStateToBlockchain({updateContacts:!0}),e},removeContact:function(t){this.defaultRemove(t,"contacts","Contact"),this.updateStateToBlockchain({updateContacts:!0})},upsertDebt:function(t){t.amount=Number(t.amount);var e=this.defaultUpsert(t,"debts","Debt");return this.updateStateToBlockchain({updateDebts:!0}),e},removeDebt:function(t){this.defaultRemove(t,"debts","Debt"),this.updateStateToBlockchain({updateDebts:!0})},defaultUpsert:function(t,e,n){console.log("Updating ".concat(n)),console.log(t),t.id||(t.id=K.generateId());var i=Y.a.clone(t);return a["default"].set(this[e],t.id,i),i},toggleLiveEmotions:function(){var t=this.liveEmotionsEnabled;a["default"].set(this,"liveEmotionsEnabled",!t)},selectTag:function(t){a["default"].set(this,"selectedTag",t)},setPath:function(t){a["default"].set(this,"path",t)}},Q=W,X=n("704c"),Z=n("0021"),tt={name:"NavBar",data:function(){return{userAvatar:O.getUserAvatar(),signedIn:O.isUserSignedIn(),modalType:"",dialog:null,State:Q,route:this.$router.currentRoute}},computed:{usernameFirstLetter:function(){var t=O.getUserName();return t?t[0].toUpperCase():""}},components:{Menu:P,SignInModal:H},methods:{toggleDarkMode:function(){var t=document.getElementsByTagName("body")[0];t.classList.toggle("dark-mode")},openSignInModal:function(){var t=document.querySelector(".mdc-dialog");this.dialog=X["a"].attachTo(t),this.modalType="signIn",this.dialog.open()},closeSignInModal:function(){this.dialog&&this.dialog.close()},openMenu:function(){var t=Z["a"].attachTo(document.querySelector(".mdc-menu"));t.open=!t.open},openSettings:function(){},toggleLiveEmotions:function(){Q.liveEmotionsEnabled||localStorage.liveEmotionExplanationShowed?Q.toggleLiveEmotions():confirm("Live emotions is an innovative feature, which uses your web camera to analyze your emotions and calculate the time of being happy o blockgag. Note, that your video is private and we don't send it anywhere. Currently our algoithm can recognize happiness, sadness, surprise and anger")&&(localStorage.liveEmotionExplanationShowed=!0,Q.toggleLiveEmotions())},logIn:function(){this.closeSignInModal(),window.localStorage.locationBeforeRedirection=location.href,window.toastr.success("Blockstack authentication started...","",{timeOut:"20000",closeButton:!1}),setTimeout((function(){O.signIn()}),200)},logOut:function(){O.signOut()}}},et=tt,nt=(n("62cc"),Object(L["a"])(et,l,u,!1,null,"81d9d49a",null)),at=nt.exports;window.toastr.options={closeButton:!0,progressBar:!1,showDuration:3e3,hideDuration:10,iconClass:"hidden"};var it={name:"app",created:function(){Q.setPath(this.$router.currentRoute.fullPath)},data:function(){return{BlockstackUtils:O}},watch:{$route:function(t){Q.setPath(t.fullPath)}},components:{NavBar:at}},st=it,rt=(n("60bc"),n("8a5f"),n("1564"),Object(L["a"])(st,o,c,!1,null,null,null)),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Splash"),n("Features"),n("LiveEmotionsExplanation"),n("Footer")],1)},lt=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"splash"}},[n("div",{attrs:{id:"splash-content"}},[n("h1",{staticClass:"slide-down-element",attrs:{id:"h1-title"}},[n("vue-typed-js",{attrs:{strings:["Funny","AI powered","Open source","Free"],showCursor:!1,startDelay:100,backDelay:800,loop:!0,loopCount:1/0}},[n("span",{staticClass:"typing",attrs:{id:"title-part"}})]),n("br"),t._v("\n      GAME\n    ")],1),t._m(0),n("div",{staticClass:"mousey",on:{click:function(e){return t.scrollToSection("features-section")}}},[n("div",{staticClass:"scroller"})])])])},dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"get-started-button-container"}},[n("a",{staticClass:"mdc-button mdc-button--outlined",attrs:{href:"/#/posts/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),n("span",{staticClass:"mdc-button__label"},[t._v("\n          TRY IT NOW\n          ")])])])}],pt=n("8cb8");a["default"].use(pt["VueTypedJs"]);var gt={data:function(){return{}},created:function(){document.onscroll=function(){}},methods:{scrollToSection:function(t){var e=document.getElementById(t);e.scrollIntoView()}},components:{VueTypedJs:pt["VueTypedJs"]}},ft=gt,mt=(n("ecec"),Object(L["a"])(ft,ut,dt,!1,null,"6703fade",null)),vt=mt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"features-section"}},[n("div",{staticClass:"mdc-layout-grid"},[n("div",{staticClass:"mdc-layout-grid__inner"},t._l(t.features,(function(t){return n("Feature",{key:t.title,attrs:{title:t.title,description:t.description,icon:t.icon}})})),1)])])},bt=[],_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"mdc-layout-grid__cell feature-container",class:{"fade-in-element":t.wasVisible}},[n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]),n("h2",[t._v(t._s(t.title))]),n("p",{staticClass:"feature-description"},[t._v("\n    "+t._s(t.description)+"\n  ")])])},yt=[],kt={data:function(){return{wasVisible:!1}},props:{title:String,description:String,icon:String},methods:{visibilityChanged:function(t){t&&(this.wasVisible=!0)}}},wt=kt,Ct=(n("3492"),Object(L["a"])(wt,_t,yt,!1,null,"0269ea8c",null)),xt=Ct.exports,St={data:function(){return{features:[{title:"AI powered",description:"Optional live emotions feature can analyze your emotions and understand what makes you happy",icon:"memory"},{title:"Free",description:"It is absolutely free, thanks to Blockstack App mining program",icon:"monetization_on"},{title:"Decentralized",description:"BlockGAG is a decentralized app built on Blockstack",icon:"blur_on"},{title:"Open source",description:"All the code is published on GitHub so everyone can see it and contribute",icon:"public"},{title:"Minimalistic",description:"BlockGAG has a super simple and minimalistic design",icon:"crop_original"},{title:"Ads free",description:"Thanks to blockstack app mining program we can keep BlockGAG free without ads",icon:"thumb_up_alt"},{title:"For everyone",description:"Everyone who is signed in to blockstack can post new funny stuff",icon:"people"},{title:"Categorised",description:"You can explore different categories of FUN on blockgag",icon:"category"},{title:"Secure",description:"All your private data, like analyzed emotions and preferences, is safe and secure",icon:"security"}]}},components:{Feature:xt}},Tt=St,Ot=(n("380c"),Object(L["a"])(Tt,ht,bt,!1,null,"15e1a8a8",null)),It=Ot.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"live-emotions-explanation"}},[n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],class:{"slide-left-element":t.wasViewable},attrs:{id:"text-content"}},[n("h2",[t._v("\n      Live emotions\n    ")]),n("p",[t._v('\n      Touch the future with the brand new AI feature on the blockgag.co.\n      Our algorithm can use video from your web camera (of course if you give access) to analyze your facial\n      expressions and calculate the time of being happy on the website.\n      Note, that each  webcam video is private and is not sent anywhere, AI algorithm works directly in your browser.\n      Currently the "live emotions" algoithm can recognize happiness, sadness, surprise and anger.\n      In the close future we\'ll add optional "likes by smiling" and "scrolling by nod" features.\n    ')]),t._m(0)])])},jt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"mdc-button mdc-button--raised",attrs:{href:"/#/posts/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),n("span",{staticClass:"mdc-button__label"},[t._v("\n        TRY BLOCKGAG\n        ")])])}],Ut=n("98c9");a["default"].use(Ut["a"]);var Lt,Bt,Pt,At={data:function(){return{wasViewable:!1}},created:function(){},methods:{visibilityChanged:function(t){t&&(this.wasViewable=!0)}}},Rt=At,Mt=(n("a319"),Object(L["a"])(Rt,Et,jt,!1,null,"23cd4942",null)),Ft=Mt.exports,Nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{attrs:{id:"gh-icon"}},[a("a",{attrs:{href:"https://github.com/hatskier/TryNotToLaugh.online",target:"_blank"}},[a("img",{attrs:{src:n("09d1")}})])]),a("p",[t._v("© 2019 blockgag.co")])])}],$t={},Dt=$t,zt=(n("c364"),Object(L["a"])(Dt,Nt,Gt,!1,null,"9cf22b62",null)),Vt=zt.exports,Jt={name:"Home",data:function(){return{modalContent:"first"}},props:{text:Number,img:String},components:{Splash:vt,Features:It,LiveEmotionsExplanation:Ft,Footer:Vt},methods:{}},Ht=Jt,qt=(n("37e7"),Object(L["a"])(Ht,ct,lt,!1,null,"c0b6832c",null)),Yt=qt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"posts mdc-layout-grid"},[n("div",{staticClass:"mdc-layout-grid__inner"},[n("div",{staticClass:"mdc-layout-grid__cell--span-3"},[n("Tags")],1),n("div",{staticClass:"mdc-layout-grid__cell--span-6"},[n("div",{staticClass:"posts-block"},t._l(t.filteredPosts,(function(t,e){return n("div",{key:e,staticClass:"post"},[n("Post",{attrs:{post:t}})],1)})),0)]),n("div",{staticClass:"mdc-layout-grid__cell--span-3"},[n("div",{staticClass:"live-emotions-block"},[n("LiveEmotions",{attrs:{enabled:t.State.liveEmotionsEnabled}})],1)])])])},Wt=[],Qt=(n("6762"),n("2fdb"),n("55dd"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categories-list-container slide-left-element"},[n("ul",{staticClass:"mdc-list"},[n("TagInTagList",{attrs:{title:"Hot",icon:"whatshot"}}),n("TagInTagList",{attrs:{title:"Trending",icon:"trending_up"}}),n("TagInTagList",{attrs:{title:"Fresh",icon:"query_builder"}})],1),n("p",{staticClass:"subheader"},[t._v("POPULAR")]),n("ul",{staticClass:"mdc-list"},[n("TagInTagList",{attrs:{title:"Funny",icon:"mood"}}),n("TagInTagList",{attrs:{title:"Blockstack",img:"../../public/blockstack-icon.png"}}),n("TagInTagList",{attrs:{title:"Memes",icon:"face"}}),n("TagInTagList",{attrs:{title:"GIFs",icon:"gif"}}),n("TagInTagList",{attrs:{title:"Gaming",icon:"videogame_asset"}})],1)])}),Xt=[],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"mdc-list-item",class:{"mdc-list-item--selected":t.State.selectedTag==t.title},attrs:{tabindex:"0"},on:{click:function(e){return t.State.selectTag(t.title)}}},[a("span",{staticClass:"mdc-list-item__text"},[t.icon?a("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]):t._e(),t.img?a("img",{staticClass:"tag-img",attrs:{src:n("87e5")}}):t._e(),t._v("\n    "+t._s(t.title)+"\n  ")])])},te=[],ee={data:function(){return{State:Q}},props:{icon:String,title:String,img:String}},ne=ee,ae=(n("d378"),Object(L["a"])(ne,Zt,te,!1,null,"4f6bf01f",null)),ie=ae.exports,se={name:"Categories",data:function(){return{State:Q}},props:{selected:String},components:{TagInTagList:ie}},re=se,oe=(n("bb88"),Object(L["a"])(re,Qt,Xt,!1,null,"1e370514",null)),ce=oe.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post mdc-elevation--z1"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.post.imgGaiaPublicUrl,expression:"post.imgGaiaPublicUrl"}],staticClass:"image-in-post"})])},ue=[],de={name:"Post",props:{post:Object}},pe=de,ge=(n("bb35"),Object(L["a"])(pe,le,ue,!1,null,"583be159",null)),fe=ge.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.enabled?a("div",{staticClass:"live-emotions-container "},[a("video",{staticClass:"mdc-elevation--z1",attrs:{id:"video",width:"200",height:"150",autoplay:"",muted:""},domProps:{muted:!0}}),t.enabled?a("span",{attrs:{id:"expression-emoji"}},[t._v("\n    "+t._s(t.expressionEmoji)+"\n  ")]):t._e(),t.enabled&&!t.ready?a("span",{attrs:{id:"expression-emoji"}},[a("img",{staticClass:"loader-img",attrs:{src:n("c687")}})]):t._e(),a("div",{staticClass:"mdc-elevation--z1",attrs:{id:"live-emotions-stats"}},[a("i",{staticClass:"material-icons centered",attrs:{id:"time-icon"}},[t._v("alarm")]),a("br"),a("h2",{staticClass:"centered"},[t._v("\n      "+t._s(t.happyTimeSeconds)+"\n    ")]),a("p",{staticClass:"centered",attrs:{id:"seconds-text"}},[t._v("seconds")]),a("p",{staticClass:"centered",attrs:{id:"happy-time-text"}},[t._v("Happy time on blockgag")])])]):t._e()},ve=[],he=(n("5df3"),n("ac6a"),n("ab39")),be=300,_e=!1;function ye(t){return ke.apply(this,arguments)}function ke(){return ke=Object(d["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,Lt=document.getElementById("video"),window.toastr.success("ML models loading started"),t.next=5,xe();case 5:return t.next=7,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 7:Bt=t.sent,Lt=document.getElementById("video"),Lt.srcObject=Bt,Pt=setInterval(Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Te();case 2:n=t.sent,e(n);case 4:case"end":return t.stop()}}),t)}))),be),_e&&we(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),window.toastr.error("Video initialization failed :("),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])}))),ke.apply(this,arguments)}function we(){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Bt.getTracks().forEach((function(t){t.stop()})),clearInterval(Pt);case 2:case"end":return t.stop()}}),t)}))),Ce.apply(this,arguments)}function xe(){return Se.apply(this,arguments)}function Se(){return Se=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading ML models"),t.next=3,Promise.all([he["c"].tinyFaceDetector.loadFromUri("/MLModels"),he["c"].faceLandmark68Net.loadFromUri("/MLModels"),he["c"].faceRecognitionNet.loadFromUri("/MLModels"),he["c"].faceExpressionNet.loadFromUri("/MLModels")]);case 3:console.log("ML models loaded");case 4:case"end":return t.stop()}}),t)}))),Se.apply(this,arguments)}function Te(){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(d["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(he["b"])(Lt,new he["a"]).withFaceLandmarks().withFaceExpressions();case 2:if(e=t.sent,!e||!e[0]){t.next=7;break}return t.abrupt("return",e[0].expressions);case 7:return t.abrupt("return",{});case 8:case"end":return t.stop()}}),t)}))),Oe.apply(this,arguments)}function Ie(t){var e=localStorage.happyTimeOnBlockgag;return t.happy>.4&&(localStorage.happyTimeOnBlockgag=(Number(e)||0)+be),localStorage.happyTimeOnBlockgag}var Ee={neutral:"😐",happy:{1:"🙂",2:"😊",3:"😃",4:"😄",5:"😁",6:"😆",7:"😅",8:"😂"},sad:{1:"😕",2:"😟",3:"😩"},angry:{1:"😠",2:"😤",3:"😡"},surprised:{1:"😮"}},je={props:{enabled:Boolean},data:function(){return{expressions:{},ready:!1,happyTimeSeconds:(localStorage.happyTimeOnBlockgag||0)/1e3}},computed:{expressionEmoji:function(){var t={happy:{.8:Ee.happy[8],.6:Ee.happy[7],.5:Ee.happy[5],.3:Ee.happy[2],.2:Ee.happy[1]},sad:{.5:Ee.sad[3]},angry:{.2:Ee.angry[3]},surprised:{.2:Ee.surprised[1]}};for(var e in t)for(var n in t[e])if(this.expressions[e]>n)return t[e][n];return Ee.neutral}},watch:{enabled:function(t){var e=this;t?(_e=!1,console.log("Starting video recording"),ye((function(t){!e.ready&&t&&(e.ready=!0,window.toastr.success("Algorithm is ready. Emoji should show your emotions now")),e.expressions=t;var n=Ie(t);e.happyTimeSeconds=n/1e3}))):(console.log("Finishing video recording"),we(),_e=!0,setTimeout((function(){e.ready=!1}),2*be))}}},Ue=je,Le=(n("4227"),Object(L["a"])(Ue,me,ve,!1,null,null,null)),Be=Le.exports;function Pe(t,e,n){var a=t[e];return t[e]=t[n],t[n]=a,t}var Ae={name:"Posts",data:function(){return{posts:[],State:Q}},props:{text:Number,img:String},components:{Tags:ce,Post:fe,LiveEmotions:Be},created:function(){var t=this;O.getAllPosts().then((function(e){t.posts=e}))},computed:{filteredPosts:function(){if(this.posts&&this.posts.length){var t=JSON.parse(JSON.stringify(this.posts));t.sort((function(t,e){return e.createdAt-t.createdAt})),window.scrollTo(0,0);var e=this.State.selectedTag;return e&&!["Hot","Trending","Fresh"].includes(e)?t.filter((function(t){return t.tags&&t.tags.includes(e)})):("Hot"==e&&t.length>7&&(t=Pe(t,1,t.length-1),t=Pe(t,2,t.length-2)),"Trending"==e&&t.length>7&&(t=Pe(t,1,t.length-2),t=Pe(t,2,t.length-1)),t)}return[]}}},Re=Ae,Me=(n("03a6"),Object(L["a"])(Re,Kt,Wt,!1,null,"1ff2bcff",null)),Fe=Me.exports,Ne=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ge=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Post he")])])}],$e={name:"Post",props:{text:Number,img:String}},De=$e,ze=(n("3d50"),Object(L["a"])(De,Ne,Ge,!1,null,"3b02af72",null)),Ve=ze.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"add-page-content"}},[n("div",{staticClass:"add-card"},[t.addedPostUrl?n("p",{staticClass:"centered"},[t._v("\n      Go back to the \n      "),n("a",{attrs:{href:"#/posts"}},[t._v("\n        Posts page\n      ")])]):t._e(),n("div",{staticClass:"mdc-layout-grid "},[n("div",{staticClass:"mdc-layout-grid__inner"},[n("div",{staticClass:"mdc-layout-grid__cell--span-12 mdc-elevation--z1"},["upload"==t.addingType?n("div",{staticClass:"file-upload-area"},[n("file-pond",{ref:"pond",attrs:{name:"my-pond","class-name":"my-pond","allow-multiple":!1,"label-idle":"Drop files here (or click to select)","accepted-file-types":"image/jpeg, image/png, image/gif",files:t.files},on:{addfile:t.onFileAdded}})],1):t._e(),"imgUrl"==t.addingType||"videoUrl"==t.addingType?n("div",{staticClass:"text-input-area"},[n("div",{staticClass:"mdc-text-field",attrs:{id:"link-field"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"mdc-text-field__input",attrs:{id:"link-paste-input",type:"text"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),n("label",{staticClass:"mdc-floating-label",attrs:{for:"link-paste-input"}},[t._v("\n                "+t._s(t.objectName)+" URL\n              ")]),n("div",{staticClass:"mdc-line-ripple"})])]):t._e(),n("div",{staticClass:"text-input-area"},[n("div",{staticClass:"mdc-text-field",attrs:{id:"description-field"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"mdc-text-field__input",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),n("label",{staticClass:"mdc-floating-label",attrs:{for:"description-field"}},[t._v("\n                Describe your post (optional)\n              ")]),n("div",{staticClass:"mdc-line-ripple"})])]),n("div",{attrs:{id:"tags-multiselect-container"}},[n("Multiselect",{attrs:{multiple:!0,"close-on-select":!0,"clear-on-select":!1,"preselect-first":!1,selectLabel:"",placeholder:"Select tags",options:t.availableTags},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1),n("div",{attrs:{id:"upload-button-container"}},[n("button",{staticClass:"mdc-button mdc-button--raised sign-in-button",attrs:{id:"upload-button"},on:{click:function(e){return t.uploadButtonClicked()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n                UPLOAD\n            ")])])]),n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option",class:{"type-selected":"upload"==t.addingType},on:{click:function(e){return t.setType("upload")}}},[n("i",{staticClass:"material-icons"},[t._v("cloud_upload")]),n("span",[t._v("Upload file")])]),n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option",class:{"type-selected":"imgUrl"==t.addingType},on:{click:function(e){return t.setType("imgUrl")}}},[n("i",{staticClass:"material-icons"},[t._v("photo_size_select_actual")]),n("span",[t._v("Paste image URL")])]),t._m(0)])])])])},He=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option"},[n("a",{attrs:{id:"link-to-meme-generator",target:"_blank",href:"https://memeful.com/generator"}},[n("i",{staticClass:"material-icons"},[t._v("pan_tool")]),n("span",[t._v("Make meme")])])])}],qe=n("3bb7"),Ye={tags:[{title:"Funny",icon:"mood"},{title:"Blockstack",img:"../../public/blockstack-icon.png"},{title:"Memes",icon:"face"},{title:"GIFs",icon:"gif"},{title:"Animals",icon:"pets"},{title:"Gaming",icon:"videogame_asset"}]},Ke=n("8e5f"),We=n.n(Ke),Qe=n("1501"),Xe=n.n(Qe),Ze=(n("4ed3"),Xe()());function tn(){setTimeout((function(){var t=document.querySelector("#description-field");t&&qe["a"].attachTo(t);var e=document.querySelector("#link-field");e&&qe["a"].attachTo(e)}),100)}function en(t){window.toastr.success(t,"",{timeOut:"7000",closeButton:!0})}var nn={name:"Add",created:function(){O.isUserSignedIn(),tn()},data:function(){return{addingType:"upload",textField:null,url:"",description:"",selectedTags:[],files:[],uploadedImgBlobUrl:"",addedPostUrl:""}},props:{text:Number,img:String},computed:{objectName:function(){return"videoUrl"==this.addingType?"video":"image"},availableTags:function(){return Ye.tags.map((function(t){return t.title}))}},methods:{initMdcInputs:function(){tn()},onFileAdded:function(t,e){t?(console.error(t),window.toastr.error("Error occured :(")):(this.uploadedImgBlobUrl=window.URL.createObjectURL(e.source),console.log("File uploaded: "+this.uploadedImgBlobUrl))},uploadButtonClicked:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return en("Loading file..."),t.prev=1,e="",e="upload"==this.addingType?this.uploadedImgBlobUrl:this.url,t.next=6,v.a.get(e,{responseType:"arraybuffer"});case 6:return n=t.sent,a=n.data,t.next=10,O.addNewPost({type:"img",originalUrl:this.url,data:a,tags:this.selectedTags,description:this.description},{onSavedToGaia:function(){en("Saved to gaia storage. Saving to radiks...")},onPostCreated:function(){en("Post added!")}});case 10:i=t.sent,console.log(n),this.addedPostUrl=i,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](1),window.toastr.error("There was a problem with file uploading :("),console.error(t.t0);case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));function e(){return t.apply(this,arguments)}return e}(),setType:function(t){this.addingType=t,this.initMdcInputs()}},components:{Multiselect:We.a,FilePond:Ze}},an=nn,sn=(n("f635"),Object(L["a"])(an,Je,He,!1,null,"2bf75a69",null)),rn=sn.exports;function on(){return Yt}a["default"].config.productionTip=!1,a["default"].use(i["a"]),a["default"].use(s["a"],{lazyComponent:!0,preLoad:5,loading:"./loading.gif"}),a["default"].use(r["a"]),O.checkAuth();var cn=[{path:"/",component:on()},{path:"/home",component:Yt},{path:"/posts",component:Fe},{path:"/posts/:category",component:Fe},{path:"/post/:id",component:Ve},{path:"/add",component:rn}],ln=new i["a"]({routes:cn}),un=new a["default"]({router:ln,render:function(t){return t(ot)}}).$mount("#app");e["default"]=un},"5b27":function(t,e,n){},6:function(t,e){},"62cc":function(t,e,n){"use strict";var a=n("139d"),i=n.n(a);i.a},7:function(t,e){},"7c9c":function(t,e,n){},8:function(t,e){},"87e5":function(t,e,n){t.exports=n.p+"img/blockstack-icon.dc910bee.png"},8988:function(t,e,n){},"8a5f":function(t,e,n){"use strict";var a=n("92a9"),i=n.n(a);i.a},"8c46":function(t,e,n){},"92a9":function(t,e,n){},a319:function(t,e,n){"use strict";var a=n("8988"),i=n.n(a);i.a},a721:function(t,e,n){},aaa1:function(t,e,n){},ba47:function(t,e,n){},bb35:function(t,e,n){"use strict";var a=n("a721"),i=n.n(a);i.a},bb88:function(t,e,n){"use strict";var a=n("7c9c"),i=n.n(a);i.a},c364:function(t,e,n){"use strict";var a=n("1654"),i=n.n(a);i.a},c4b4:function(t,e,n){},c687:function(t,e,n){t.exports=n.p+"img/oval.be00fc4a.svg"},cc09:function(t,e,n){},d378:function(t,e,n){"use strict";var a=n("d650"),i=n.n(a);i.a},d650:function(t,e,n){},ecec:function(t,e,n){"use strict";var a=n("aaa1"),i=n.n(a);i.a},f635:function(t,e,n){"use strict";var a=n("3785"),i=n.n(a);i.a}});
//# sourceMappingURL=app.492e1a13.js.map