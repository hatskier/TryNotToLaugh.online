(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09d1":function(t,e,n){t.exports=n.p+"img/github-icon.ab420948.svg"},"0e03":function(t,e,n){t.exports=n.p+"img/TryNotToLaugh-Logo.333f5684.png"},1:function(t,e){},"115d":function(t,e,n){},1564:function(t,e,n){"use strict";var i=n("ba47"),a=n.n(i);a.a},"1bf8":function(t,e,n){t.exports=n.p+"img/done.4cb876c7.gif"},"1fdc":function(t,e,n){"use strict";var i=n("427d"),a=n.n(i);a.a},2:function(t,e){},"252b":function(t,e,n){"use strict";var i=n("836a"),a=n.n(i);a.a},"2c12":function(t,e,n){},3:function(t,e){},"31c9":function(t,e,n){},3216:function(t,e,n){"use strict";var i=n("9b56"),a=n.n(i);a.a},"321d":function(t,e,n){},"37e7":function(t,e,n){"use strict";var i=n("321d"),a=n.n(i);a.a},"3aae":function(t,e,n){},4:function(t,e){},4227:function(t,e,n){"use strict";var i=n("c4b4"),a=n.n(i);a.a},"427d":function(t,e,n){},4671:function(t,e,n){t.exports=n.p+"img/spinner2.dd66add6.svg"},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=n("8c4f"),o=n("caf9"),s=n("85fe"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",[i("NavBar"),t.BlockstackUtils.pendingAuth?t._e():i("router-view",{staticClass:"view"}),t.BlockstackUtils.pendingAuth?i("div",{staticClass:"centered authentication-in-progress-title"},[i("img",{attrs:{id:"svg-loader",src:n("4671")}}),i("h2",[t._v("\n        Authentication in progress...\n      ")])]):t._e()],1)])},c=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"navbar"}},[i("header",{staticClass:"mdc-top-app-bar mdc-top-app-bar--dense"},[i("div",{staticClass:"mdc-top-app-bar__row"},[i("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},[t.State.path.includes("level/")?t._e():i("a",{attrs:{href:"#/"}},[i("img",{attrs:{id:"navbar-logo",src:n("0e03")}})]),t._m(0),t.State.path.includes("level/")?i("a",{staticClass:"mdc-button mdc-button--outlined",attrs:{href:"javascript:history.back()"}},[i("i",{staticClass:"material-icons back-icon"},[t._v("keyboard_backspace")]),t._v("\n          BACK\n        ")]):t._e()]),i("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end",attrs:{role:"toolbar"}},[i("div",{staticClass:"navbar-el"},[i("a",{staticClass:"mdc-icon-button material-icons white add-photo-icon",attrs:{id:"night-mode-icon"},on:{click:function(e){return t.toggleDarkMode()}}},[t._v("\n            brightness_4\n          ")])]),i("div",{staticClass:"navbar-el"},[i("div",{staticClass:"account-circle mdc-menu-surface--anchor",on:{click:function(e){return t.openMenu()}}},[t.signedIn&&t.userAvatar?i("img",{attrs:{id:"avatar-image",src:t.userAvatar}}):t._e(),t.signedIn&&!t.userAvatar?i("div",{staticClass:"username-letter"},[t._v("\n              "+t._s(t.usernameFirstLetter)+"\n            ")]):t._e(),i("Menu",{attrs:{onSettingsClicked:t.openSettings,onLogOutClicked:t.logOut}})],1),t.signedIn?t._e():i("button",{staticClass:"mdc-button mdc-button--raised sign-in-button",on:{click:function(e){return t.openSignInModal()}}},[i("div",{staticClass:"mdc-button__ripple"}),t._v("\n              SIGN IN\n          ")])])])])]),i("SignInModal",{attrs:{onLogInButtonClicked:t.logIn}})],1)},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"normal-text",attrs:{href:"#/"}},[n("span",{staticClass:"mdc-top-app-bar__title white"})])}],d=(n("c5f6"),n("96cf"),n("3b8d")),p=n("e4d3"),m=n.n(p),v=new m.a.AppConfig(["store_write","publish_data","email"]),f=new m.a.UserSession({appConfig:v}),g={pendingAuth:!1,isUserSignedIn:function(){return f.isUserSignedIn()},getUserSession:function(){return f},getUserName:function(){return f.loadUserData().username},getUserAvatar:function(){if(f.isUserSignedIn()){var t=f.loadUserData();if(t.profile&&t.profile.image&&t.profile.image[0])return t.profile.image[0].contentUrl}return null},checkAuth:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!f.isSignInPending()){t.next=13;break}return t.prev=1,i["a"].set(this,"pendingAuth",!0),t.next=5,f.handlePendingSignIn();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:return t.prev=10,localStorage.locationBeforeRedirection?(e=localStorage.locationBeforeRedirection,localStorage.removeItem("locationBeforeRedirection"),location.href=e):i["a"].set(this,"pendingAuth",!1),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}(),signIn:function(){f.redirectToSignIn()},signOut:function(){f.signUserOut(),location.reload()},saveLevelAsCompleted:function(t){console.log("SETTING COMPLETION"),console.log(t),(!localStorage.lastLevelCompletedTNTL||Number(localStorage.lastLevelCompletedTNTL)<t)&&(console.log("SETTING COMPLETION222"),localStorage.lastLevelCompletedTNTL=t)}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-menu mdc-menu-surface"},[n("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"}},[n("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem"},on:{click:function(e){return t.onLogOutClicked()}}},[t._m(0)])])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdc-list-item__text black-in-dark-mode"},[n("i",{staticClass:"material-icons black-in-dark-mode"},[t._v("\n          directions_walk\n        ")]),t._v("\n        Log out\n      ")])}],_={props:{onSettingsClicked:Function,onLogOutClicked:Function}},y=_,C=n("2877"),k=Object(C["a"])(y,h,b,!1,null,null,null),w=k.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"Log in to add posts"}},[n("p",{staticClass:"blockstack-description"},[t._v("\n    TryNotToLaugh.online is built using\n      "),n("a",{attrs:{target:"_blank",href:"https://blockstack.org/try-blockstack"}},[t._v("Blockstack")]),t._v("\n    infrastructure,\n    allowing us to provide decentralized encrypted storage.\n  ")]),n("p",{staticClass:"blockstack-description"},[t._v("\n    Blockstack ID provides user-controlled login and storage\n    that enable you to take back control of your identity and data.\n  ")]),n("button",{staticClass:"mdc-button mdc-button--raised continue-with-blockstack-button",attrs:{id:"log-in-to-blockstack-button"},on:{click:function(e){return t.onLogInButtonClicked()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n      LOG IN TO BLOCKSTACK\n  ")])])},L=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-dialog",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"}},[n("div",{staticClass:"mdc-dialog__container"},[n("div",{staticClass:"mdc-dialog__surface"},[n("h2",{staticClass:"mdc-dialog__title",attrs:{id:"my-dialog-title"}},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("div",{staticClass:"mdc-dialog__content",attrs:{id:"my-dialog-content"}},[t._t("default")],2)])]),n("div",{staticClass:"mdc-dialog__scrim"})])},E=[],T={name:"Dialog",data:function(){return{}},props:{title:String},computed:{}},I=T,O=(n("1fdc"),Object(C["a"])(I,x,E,!1,null,"6dab4c7c",null)),j=O.exports,B={props:{onLogInButtonClicked:Function},components:{Dialog:j}},N=B,M=(n("ae7e"),Object(C["a"])(N,S,L,!1,null,"53e3f90a",null)),A=M.exports,U=n("2ef0"),R=n.n(U),$=(n("6b54"),{generateId:function(){return Date.now().toString()},capitalizeFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},dictToListWithIds:function(t){var e=[];for(var n in t)e.push(Object.assign({id:n},t[n]));return e}}),D={path:"",contacts:{},debts:{},syncStatus:"Synced",liveEmotionsEnabled:!1,selectedTag:"",loadStateFromBlockchain:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading state from blockchain"),t.next=3,g.getContacts();case 3:return e=t.sent,t.next=6,g.getDebts();case 6:n=t.sent,e&&i["a"].set(this,"contacts",e),n&&i["a"].set(this,"debts",n);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateStateToBlockchain:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.updateContacts,i=void 0!==n&&n,a=e.updateDebts,o=void 0!==a&&a,console.log("Updating blockchain state with contacts: ".concat(i,", with debts: ").concat(o)),t.prev=2,!i){t.next=8;break}return this.syncStatus="Syncing contacts",this.updatingStateInBlockchain=!0,t.next=8,g.saveContacts(this.contacts);case 8:if(!o){t.next=13;break}return this.syncStatus="Syncing debts",this.updatingStateInBlockchain=!0,t.next=13,g.saveDebts(this.debts);case 13:this.syncStatus="Synced",t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](2),console.error(t.t0),this.syncStatus="Syncing failed";case 20:case"end":return t.stop()}}),t,this,[[2,16]])})));function e(e){return t.apply(this,arguments)}return e}(),upsertContact:function(t){var e=this.defaultUpsert(t,"contacts","Contact");return this.updateStateToBlockchain({updateContacts:!0}),e},removeContact:function(t){this.defaultRemove(t,"contacts","Contact"),this.updateStateToBlockchain({updateContacts:!0})},upsertDebt:function(t){t.amount=Number(t.amount);var e=this.defaultUpsert(t,"debts","Debt");return this.updateStateToBlockchain({updateDebts:!0}),e},removeDebt:function(t){this.defaultRemove(t,"debts","Debt"),this.updateStateToBlockchain({updateDebts:!0})},defaultUpsert:function(t,e,n){console.log("Updating ".concat(n)),console.log(t),t.id||(t.id=$.generateId());var a=R.a.clone(t);return i["a"].set(this[e],t.id,a),a},toggleLiveEmotions:function(){var t=this.liveEmotionsEnabled;i["a"].set(this,"liveEmotionsEnabled",!t)},selectTag:function(t){i["a"].set(this,"selectedTag",t)},setPath:function(t){i["a"].set(this,"path",t)}},F=D,P=n("704c"),z=n("0021"),V={name:"NavBar",data:function(){return{userAvatar:g.getUserAvatar(),signedIn:g.isUserSignedIn(),modalType:"",dialog:null,State:F,route:this.$router.currentRoute}},computed:{usernameFirstLetter:function(){var t=g.getUserName();return t?t[0].toUpperCase():""}},components:{Menu:w,SignInModal:A},methods:{toggleDarkMode:function(){var t=document.getElementsByTagName("body")[0];t.classList.toggle("dark-mode")},openSignInModal:function(){var t=document.querySelector(".mdc-dialog");this.dialog=P["a"].attachTo(t),this.modalType="signIn",this.dialog.open()},closeSignInModal:function(){this.dialog&&this.dialog.close()},openMenu:function(){var t=z["a"].attachTo(document.querySelector(".mdc-menu"));t.open=!t.open},openSettings:function(){},toggleLiveEmotions:function(){F.liveEmotionsEnabled||localStorage.liveEmotionExplanationShowed?F.toggleLiveEmotions():confirm("Live emotions is an innovative feature, which uses your web camera to analyze your emotions and calculate the time of being happy o blockgag. Note, that your video is private and we don't send it anywhere. Currently our algoithm can recognize happiness, sadness, surprise and anger")&&(localStorage.liveEmotionExplanationShowed=!0,F.toggleLiveEmotions())},logIn:function(){this.closeSignInModal(),window.localStorage.locationBeforeRedirection=location.href,window.toastr.success("Blockstack authentication started...","",{timeOut:"20000",closeButton:!1}),setTimeout((function(){g.signIn()}),200)},logOut:function(){g.signOut()}}},G=V,K=(n("ba40"),Object(C["a"])(G,l,u,!1,null,"707d73ae",null)),H=K.exports;window.toastr.options={closeButton:!0,iconClass:"hidden"};var W={name:"app",created:function(){F.setPath(this.$router.currentRoute.fullPath)},data:function(){return{BlockstackUtils:g}},watch:{$route:function(t){F.setPath(t.fullPath)}},components:{NavBar:H}},X=W,Y=(n("60bc"),n("8a5f"),n("1564"),Object(C["a"])(X,r,c,!1,null,null,null)),q=Y.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Splash"),n("Features"),n("LiveEmotionsExplanation"),n("Footer")],1)},Q=[],Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"splash"}},[i("div",{attrs:{id:"splash-content"}},[i("img",{staticClass:"fade-in-element init-hidden",attrs:{id:"logo-on-splash",src:n("0e03")}}),t._m(0),i("p",{staticClass:"slide-down-element-500ms-delay init-hidden",attrs:{id:"subtitle"}},[t._v("Gain scores, compete with friends")]),t._m(1),i("div",{staticClass:"mousey",on:{click:function(e){return t.scrollToSection("features-section")}}},[i("div",{staticClass:"scroller"})])])])},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"slide-down-element init-hidden",attrs:{id:"h1-title"}},[t._v("\n      Try not to laugh\n      "),n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slide-down-element-1s-delay init-hidden",attrs:{id:"get-started-button-container"}},[n("a",{staticClass:"mdc-button mdc-button--raised",attrs:{href:"/#/levels/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),n("span",{staticClass:"mdc-button__label"},[t._v("\n          TRY THE GAME\n          ")])])])}];function et(){}var nt={data:function(){return{}},mounted:function(){},created:function(){et(),document.onscroll=function(){}},methods:{scrollToSection:function(t){var e=document.getElementById(t);e.scrollIntoView()}},components:{}},it=nt,at=(n("252b"),Object(C["a"])(it,Z,tt,!1,null,"68323229",null)),ot=at.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"features-section"}},[n("h2",[t._v("Why should I try it?")]),n("div",{staticClass:"mdc-layout-grid"},[n("div",{staticClass:"mdc-layout-grid__inner"},t._l(t.features,(function(t){return n("Feature",{key:t.title,attrs:{title:t.title,description:t.description,icon:t.icon}})})),1)])])},rt=[],ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"mdc-layout-grid__cell feature-container init-hidden",class:{"slide-left-element":t.wasVisible}},[n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]),n("h2",[t._v(t._s(t.title))]),n("p",{staticClass:"feature-description"},[t._v("\n    "+t._s(t.description)+"\n  ")])])},lt=[],ut={data:function(){return{wasVisible:!1}},props:{title:String,description:String,icon:String},methods:{visibilityChanged:function(t){t&&(this.wasVisible=!0)}}},dt=ut,pt=(n("a5da"),Object(C["a"])(dt,ct,lt,!1,null,"75bf877e",null)),mt=pt.exports,vt={data:function(){return{features:[{title:"Funny",description:"You'll watch funny videos and try not to laugh. The less you laugh - the more scores you gain",icon:"emoji_emotions"},{title:"AI powered",description:"AI will analyze your emotions through your webcam",icon:"memory"},{title:"Free",description:"It is absolutely free and ads free, thanks to Blockstack App mining program",icon:"monetization_on"},{title:"Decentralized",description:"It is a decentralized web game built on Blockstack",icon:"blur_on"},{title:"Open source",description:"All the code is published on GitHub so everyone can see it and contribute",icon:"public"},{title:"Secure",description:"All your private data, like analyzed emotions, preferences and progress, is safe and secure",icon:"security"}]}},components:{Feature:mt}},ft=vt,gt=(n("3216"),Object(C["a"])(ft,st,rt,!1,null,"4bccd528",null)),ht=gt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"live-emotions-explanation"}},[n("div",{attrs:{id:"text-content"}},[n("a",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"mdc-button mdc-button--raised init-hidden",class:{"fade-in-element":t.wasViewable},attrs:{href:"/#/levels/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),t._m(0)])])])},_t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdc-button__label"},[t._v("\n        PLAY\n        "),n("i",{staticClass:"material-icons"},[t._v("videogame_asset")])])}],yt=n("98c9");i["a"].use(yt["a"]);var Ct,kt,wt,St={data:function(){return{wasViewable:!1}},created:function(){},methods:{visibilityChanged:function(t){t&&(this.wasViewable=!0)}}},Lt=St,xt=(n("85e2"),Object(C["a"])(Lt,bt,_t,!1,null,"1a7a4dd0",null)),Et=xt.exports,Tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},It=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",[i("div",{attrs:{id:"gh-icon"}},[i("a",{attrs:{href:"https://github.com/hatskier/TryNotToLaugh.online",target:"_blank"}},[i("img",{attrs:{src:n("09d1")}})])]),i("p",[t._v("© 2020 TryNotToLaugh.online")])])}],Ot={},jt=Ot,Bt=(n("7d4a"),Object(C["a"])(jt,Tt,It,!1,null,"53ce173c",null)),Nt=Bt.exports,Mt={name:"Home",data:function(){return{modalContent:"first"}},props:{text:Number,img:String},components:{Splash:ot,Features:ht,LiveEmotionsExplanation:Et,Footer:Nt},methods:{}},At=Mt,Ut=(n("37e7"),Object(C["a"])(At,J,Q,!1,null,"c0b6832c",null)),Rt=Ut.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-container mdc-layout-grid"},[i("h1",{staticClass:"init-hidden fade-in-element"},[t._v("Select level")]),i("div",{staticClass:"mdc-layout-grid__inner"},t._l(t.levels,(function(e,a){return i("div",{key:e.title,staticClass:"mdc-layout-grid__cell--span-3 init-hidden slide-down-element"},[i("div",{staticClass:"mdc-card",class:{"level-blocked":a>t.lastCompletedLevel+1,"level-completed":a<=t.lastCompletedLevel},on:{click:function(e){return t.goToLevel(a)}}},[i("div",{staticClass:"mdc-card__primary-action demo-card__primary-action",attrs:{tabindex:"0"}},[i("div",{staticClass:"mdc-card__media mdc-card__media--16-9 demo-card__media",style:{backgroundImage:"url('"+e.img+"')"}})]),i("h3",{staticClass:"level-title"},[t._v("\n          "+t._s(e.title)+"\n          "),i("img",{staticClass:"done-img",attrs:{src:n("1bf8")}})])])])})),0)])},Dt=[],Ft={levels:[{title:"Level 1",img:"levels/level1.png",videoId:"DODLEX4zzLQ"},{title:"Level 2",img:"levels/level2.png",videoId:"MRKKGwE5N58"},{title:"Level 3",img:"levels/level3.png",videoId:"2aK8hy50fS4"},{title:"Level 4",img:"levels/level4.png",videoId:"mkjcN18edeo"},{title:"Level 5",img:"levels/level5.png",videoId:"FoiXcLC1yB0"},{title:"Level 6",img:"levels/level6.png",videoId:"bzZEH_5OuIs"},{title:"Level 7",img:"levels/level7.png",videoId:"XTHr4kjVj2o"},{title:"Level 8",img:"levels/level8.png",videoId:"2aK8hy50fS4"},{title:"Level 9",img:"levels/level9.png",videoId:"A6hrw6KGdtM"}]},Pt={name:"Levels",mounted:function(){window.scrollTo(0,0)},data:function(){return{State:F,levels:Ft.levels}},props:{},methods:{goToLevel:function(t){t<=this.lastCompletedLevel+1&&(location.href="#/level/".concat(t)),console.log(this.lastCompletedLevel),console.log(localStorage.lastLevelCompletedTNTL)}},components:{},computed:{lastCompletedLevel:function(){var t=Number(localStorage.lastLevelCompletedTNTL);return localStorage.lastLevelCompletedTNTL?t:-1}}},zt=Pt,Vt=(n("9313"),Object(C["a"])(zt,$t,Dt,!1,null,"64c4d03e",null)),Gt=Vt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"level-container"},[n("h1",{staticClass:"init-hidden slide-left-element"},[t._v(t._s(t.level.title))]),n("LiveEmotions",{attrs:{enabled:t.liveEmotionsEnabled}}),n("div",{staticClass:"video-player-container"},[n("youtube",{attrs:{id:"video-player","video-id":t.level.videoId,"player-vars":{rel:"0",allowfullscreen:"0",autoplay:"1"},host:"https://www.youtube-nocookie.com"},on:{ready:t.ready,ended:t.ended,playing:t.playing}})],1)],1)},Ht=[],Wt=n("f6dd"),Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.enabled?i("div",{staticClass:"live-emotions-container "},[i("video",{staticClass:"mdc-elevation--z1",attrs:{id:"video",width:"200",height:"150",autoplay:"",muted:""},domProps:{muted:!0}}),t.enabled?i("span",{attrs:{id:"expression-emoji"}},[t._v("\n    "+t._s(t.expressionEmoji)+"\n  ")]):t._e(),t.enabled&&!t.ready?i("span",{attrs:{id:"expression-emoji"}},[i("img",{staticClass:"loader-img",attrs:{src:n("4671")}})]):t._e(),i("div",{staticClass:"mdc-elevation--z1",attrs:{id:"live-emotions-stats"}},[i("i",{staticClass:"material-icons centered",attrs:{id:"time-icon"}},[t._v("alarm")]),i("br"),i("h2",{staticClass:"centered"},[t._v("\n      "+t._s(t.happyTimeSeconds)+"\n    ")]),i("p",{staticClass:"centered",attrs:{id:"seconds-text"}},[t._v("seconds")]),i("p",{staticClass:"centered",attrs:{id:"happy-time-text"}},[t._v("Laughing time")])])]):t._e()},Yt=[],qt=(n("5df3"),n("ac6a"),n("ab39")),Jt=300,Qt=!1;function Zt(t){return te.apply(this,arguments)}function te(){return te=Object(d["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,Ct=document.getElementById("video"),t.next=4,ie();case 4:return t.next=6,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 6:kt=t.sent,Ct=document.getElementById("video"),Ct.srcObject=kt,wt=setInterval(Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,oe();case 2:n=t.sent,e(n);case 4:case"end":return t.stop()}}),t)}))),Jt),Qt&&ee(),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),window.toastr.error("Video initialization failed :("),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])}))),te.apply(this,arguments)}function ee(){return ne.apply(this,arguments)}function ne(){return ne=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:kt.getTracks().forEach((function(t){t.stop()})),clearInterval(wt);case 2:case"end":return t.stop()}}),t)}))),ne.apply(this,arguments)}function ie(){return ae.apply(this,arguments)}function ae(){return ae=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading ML models"),t.next=3,Promise.all([qt["c"].tinyFaceDetector.loadFromUri("/MLModels"),qt["c"].faceLandmark68Net.loadFromUri("/MLModels"),qt["c"].faceRecognitionNet.loadFromUri("/MLModels"),qt["c"].faceExpressionNet.loadFromUri("/MLModels")]);case 3:console.log("ML models loaded");case 4:case"end":return t.stop()}}),t)}))),ae.apply(this,arguments)}function oe(){return se.apply(this,arguments)}function se(){return se=Object(d["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(qt["b"])(Ct,new qt["a"]).withFaceLandmarks().withFaceExpressions();case 2:if(e=t.sent,!e||!e[0]){t.next=7;break}return t.abrupt("return",e[0].expressions);case 7:return t.abrupt("return",{});case 8:case"end":return t.stop()}}),t)}))),se.apply(this,arguments)}function re(t){var e=localStorage.happyTimeOnBlockgag;return t.happy>.4&&(localStorage.happyTimeOnBlockgag=(Number(e)||0)+Jt),localStorage.happyTimeOnBlockgag}var ce={neutral:"😐",happy:{1:"🙂",2:"😊",3:"😃",4:"😄",5:"😁",6:"😆",7:"😅",8:"😂"},sad:{1:"😕",2:"😟",3:"😩"},angry:{1:"😠",2:"😤",3:"😡"},surprised:{1:"😮"}},le={props:{enabled:Boolean},data:function(){return{expressions:{},ready:!1,happyTimeSeconds:(localStorage.happyTimeOnBlockgag||0)/1e3}},computed:{expressionEmoji:function(){var t={happy:{.8:ce.happy[8],.6:ce.happy[7],.5:ce.happy[5],.3:ce.happy[2],.2:ce.happy[1]},sad:{.5:ce.sad[3]},angry:{.2:ce.angry[3]},surprised:{.2:ce.surprised[1]}};for(var e in this.expressions.happy>.3&&window.toastr.success("We see, you're smiling"),t)for(var n in t[e])if(this.expressions[e]>n)return t[e][n];return ce.neutral}},beforeDestroy:function(){var t=this;console.log("Finishing video recording"),ee(),Qt=!0,setTimeout((function(){t.ready=!1}),2*Jt)},watch:{enabled:function(t){var e=this;t?(Qt=!1,console.log("Starting video recording"),Zt((function(t){!e.ready&&t&&(e.ready=!0,window.toastr.success("Algorithm is ready. Emoji should show your emotions now")),e.expressions=t;var n=re(t);e.happyTimeSeconds=n/1e3}))):(console.log("Finishing video recording"),ee(),Qt=!0,setTimeout((function(){e.ready=!1}),2*Jt))}}},ue=le,de=(n("4227"),Object(C["a"])(ue,Xt,Yt,!1,null,null,null)),pe=de.exports;i["a"].use(Wt["a"]);var me={name:"Level",data:function(){return console.log(this.player),{level:Ft.levels[this.$route.params.levelNr],player:null,liveEmotionsEnabled:!1}},created:function(){g.saveLevelAsCompleted(this.$route.params.levelNr)},beforeDestroy:function(){this.liveEmotionsEnabled=!1},props:{text:Number,img:String},components:{LiveEmotions:pe},methods:{ready:function(t){this.player=t.target,this.liveEmotionsEnabled=!0},ended:function(){console.log("ended")},playing:function(){console.log("playing")},stop:function(){this.player.stopVideo()},pause:function(){this.player.pauseVideo()},play:function(){this.player.playVideo()},log:function(){console.log(this.player)},enableLE:function(){this.liveEmotionsEnabled=!0},disableLE:function(){this.liveEmotionsEnabled=!1}}},ve=me,fe=(n("79cc"),Object(C["a"])(ve,Kt,Ht,!1,null,"38ef0237",null)),ge=fe.exports;function he(){return Rt}i["a"].config.productionTip=!1,i["a"].use(a["a"]),i["a"].use(o["a"],{lazyComponent:!0,preLoad:5,loading:"./loading.gif"}),i["a"].use(s["a"]),g.checkAuth();var be=[{path:"/",component:he()},{path:"/home",component:Rt},{path:"/levels",component:Gt},{path:"/level/:levelNr",component:ge}],_e=new a["a"]({routes:be}),ye=new i["a"]({router:_e,render:function(t){return t(q)}}).$mount("#app");e["default"]=ye},5966:function(t,e,n){},6:function(t,e){},7:function(t,e){},"79cc":function(t,e,n){"use strict";var i=n("d49e"),a=n.n(i);a.a},"7cf8":function(t,e,n){},"7d4a":function(t,e,n){"use strict";var i=n("31c9"),a=n.n(i);a.a},8:function(t,e){},"836a":function(t,e,n){},"85e2":function(t,e,n){"use strict";var i=n("3aae"),a=n.n(i);a.a},"8a5f":function(t,e,n){"use strict";var i=n("92a9"),a=n.n(i);a.a},"92a9":function(t,e,n){},9313:function(t,e,n){"use strict";var i=n("2c12"),a=n.n(i);a.a},"9b56":function(t,e,n){},a5da:function(t,e,n){"use strict";var i=n("5966"),a=n.n(i);a.a},ae7e:function(t,e,n){"use strict";var i=n("7cf8"),a=n.n(i);a.a},ba40:function(t,e,n){"use strict";var i=n("115d"),a=n.n(i);a.a},ba47:function(t,e,n){},c4b4:function(t,e,n){},d49e:function(t,e,n){}});
//# sourceMappingURL=app.76ba4863.js.map